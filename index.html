<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="left_side">
            <div class="profiletext">
                <div class="imgBx">
                    <img src="pfp3.jpg" alt="Profile Picture">
                </div>
                <div class="Info1"> <!-- Added Info1 class here -->
                    <h1>Contact Information</h1>
                    <div id="personalInfo"></div>
                </div>
            </div>
            
        </div>
        <div class="right_side">
            <div class="Info2">
                <h1>Education</h1>
                <div id="education"></div>

                <h1 class="educs">Highschool</h1>
                <div id="highschool"></div>

                <h1 class="skills">Skills</h1>
                <div id="skills"></div>

                <h1 class="experience">Experience</h1>
                <div id="experience"></div>

                <h1 class="awards">Awards and Achievements</h1>
                <div id="awards"></div>
            </div>
        </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const apiUrl = "https://render-webservice-0a9z.onrender.com";

        fetch(apiUrl)
          .then((response) => response.json())
          .then((data) => {
            displayPersonalInfo(data.personalInfo);
            displayHighschools(data.highschools);
            displaySkills(data.skills);
            displayEducation(data.education);
            displayAward(data.awards);
            displayExperience(data.experience);
          })
          .catch((error) => console.error("Error fetching data:", error));
      });

      function displayPersonalInfo(info) {
        const container = document.getElementById("personalInfo");
        info.forEach((item) => {
          const div = document.createElement("div");
          div.innerHTML =
            "Name: " +
            item.name +
            "<br>" +
            "Birthdate: " +
            item.birthdate +
            "<br>" +
            "Gender: " +
            item.sex +
            "<br>" +
            "Contact No: " +
            item.phoneNumber +
            "<br>" +
            "Address: " +
            item.address +
            "<br>" +
            "Email: " +
            item.email;
          container.appendChild(div);
        });
      }

      function displayHighschools(highschools) {
        const container = document.getElementById("highschool");
        highschools.forEach((item) => {
          const div = document.createElement("div");
          div.innerHTML =
            item.year_level +
            "<br>" +
            "Birth " +
            item.year_duration +
            "<br>" +
            "Ge " +
            item.school;
          container.appendChild(div);
        });
      }

      function displaySkills(skills) {
        const container = document.getElementById("skills");
        skills.forEach((item) => {
          const div = document.createElement("div");
          div.textContent = item.description.join(", ");
          container.appendChild(div);
        });
      }

      function displayEducation(education) {
        const container = document.getElementById("education");
        education.forEach((item) => {
          const div = document.createElement("div");
          div.innerHTML =
            "Degree: " +
            item.degree +
            "<br>" +
            "School: " +
            item.university +
            "<br>" +
            "Year: " +
            item.year;
          container.appendChild(div);
        });
      }

      function displayAward(award) {
        const container = document.getElementById("awards");
        award.forEach((item) => {
          const div = document.createElement("div");
          div.textContent = item.description;
          container.appendChild(div);
        });
      }

      function displayExperience(experience) {
        const container = document.getElementById("experience");
        experience.forEach((item) => {
          const div = document.createElement("div");
          div.textContent = item.description;
          container.appendChild(div);
        });
      }
    </script>
  </body>
</html>